PUSHS ""
START
PUSHS "Digite uma frase:"
WRITES
WRITELN
READ
STOREG 0
PUSHS "Numero de palavras: "
WRITES
PUSHG 0
PUSHA ContarPalavras
CALL
WRITEI
WRITELN
STOP
ContarPalavras:
PUSHFP
PUSHS ""
PUSHI 0
PUSHI 0
PUSHI 0
PUSHI 0
STOREL -3
PUSHI 0
STOREL -4
PUSHI 1
STOREL -2
forstart1:
PUSHFP
LOAD -2
PUSHFP
LOAD -1
STRLEN
INFEQ
JZ forend1
PUSHFP
LOAD -2
PUSHI 1
SUB
PUSHFP
LOAD -1
SWAP
CHARAT
PUSHI 32
EQUAL
NOT
JZ endif1
PUSHFP
LOAD -4
NOT
JZ endif2
PUSHI 1
STOREL -4
PUSHFP
LOAD -3
PUSHI 1
ADD
STOREL -3
endif2:
JUMP label1
endif1:
PUSHI 0
STOREL -4
label1:
PUSHFP
LOAD -2
PUSHI 1
ADD
STOREL -2
JUMP forstart1
forend1:
PUSHFP
LOAD -3
RETURN