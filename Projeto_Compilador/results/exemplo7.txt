PUSHS ""
PUSHI 0
START
PUSHS "Introduza uma string binária:"
WRITES
WRITELN
READ
STOREG 0
PUSHG 0
PUSHA BinToInt
CALL
STOREG 1
PUSHS "O valor inteiro correspondente é: "
WRITES
PUSHG 1
WRITEI
WRITELN
STOP
BinToInt:
PUSHFP
PUSHS ""
PUSHI 0
PUSHI 0
PUSHI 0
PUSHI 0
STOREL -3
PUSHI 1
STOREL -4
PUSHFP
LOAD -1
STRLEN
STOREL -2
forstart1:
PUSHFP
LOAD -2
PUSHI 1
SUPEQ
JZ forend1
PUSHFP
LOAD -2
PUSHI 1
SUB
PUSHFP
LOAD -1
SWAP
CHARAT
PUSHI 49
EQUAL
JZ endif1
PUSHFP
LOAD -3
PUSHFP
LOAD -4
ADD
STOREL -3
endif1:
PUSHFP
LOAD -4
PUSHI 2
MUL
STOREL -4
PUSHFP
LOAD -2
PUSHI 1
SUB
STOREL -2
JUMP forstart1
forend1:
PUSHFP
LOAD -3
RETURN